
# aws-step-functions

This directory contains AWS step function definitions used by the smart-security-camera project.  At the time of writing it is **not possible to edit a step function once it is created**.  Therefore you should **always** keep a copy of this file if you make any changes.

# Contents

* **step-function-image-processing.json** - Process definition for step function.
* **step-function-image-processing.jpg** - visual representation of step function generated by AWS.

# How to use

To define a step function you'll need to visit the [Step Function Console](https://aws.amazon.com/step-functions/) and create a State Machine. Some tips for doing this:

1. Paste the contents of **step-function-image-processing.json** into the wizard.
2. Call the resulting state machine **step-function-image-processing** to ensure that it works with the other smart-security-camera components.
3. You'll need to define an IAM role for the step machine.  This role will require the **AWSLambdaRole** permission so that the Step Function is allowed to call the Lambda Functions that it will orchestrate.  You can specify IAM roles from the IAM Console (available from the Services menu when logged into the [AWS Console](https://aws.amazon.com/console/)).
